<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Get and parse NOAA ISD/ISH data"><title>Get and parse NOAA ISD/ISH data — isd • rnoaa</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get and parse NOAA ISD/ISH data — isd"><meta property="og:description" content="Get and parse NOAA ISD/ISH data"><meta property="og:image" content="https://docs.ropensci.org/rnoaa/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">rnoaa</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.4.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/rnoaa.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/buoy_vignette.html">working with buoy data</a>
    <a class="dropdown-item" href="../articles/homr_vignette.html">HOMR metadata</a>
    <a class="dropdown-item" href="../articles/ncdc_attributes.html">NOAA NCDC dataset attributes</a>
    <a class="dropdown-item" href="../articles/ncdc_vignette.html">NCDC introduction</a>
    <a class="dropdown-item" href="../articles/ncdc_workflow.html">NCDC workflow</a>
    <a class="dropdown-item" href="../articles/seaice_vignette.html">Sea ice vignette</a>
    <a class="dropdown-item" href="../articles/swdi_vignette.html">SWDI vignette</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/rnoaa/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get and parse NOAA ISD/ISH data</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/rnoaa/blob/HEAD/R/isd.R" class="external-link"><code>R/isd.R</code></a></small>
      <div class="d-none name"><code>isd.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Get and parse NOAA ISD/ISH data</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">isd</span><span class="op">(</span></span>
<span>  <span class="va">usaf</span>,</span>
<span>  <span class="va">wban</span>,</span>
<span>  <span class="va">year</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  cleanup <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  additional <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cores <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"cl.cores"</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>usaf, wban</dt>
<dd><p>(character) USAF and WBAN code. Required</p></dd>


<dt>year</dt>
<dd><p>(numeric) One of the years from 1901 to the current year.
Required.</p></dd>


<dt>overwrite</dt>
<dd><p>(logical) To overwrite the path to store files in or not,
Default: <code>TRUE</code></p></dd>


<dt>cleanup</dt>
<dd><p>(logical) If <code>TRUE</code>, remove compressed <code>.gz</code> file
at end of function execution. Processing data takes up a lot of time, so we
cache a cleaned version of the data. Cleaning up will save you on disk
space. Default: <code>TRUE</code></p></dd>


<dt>additional</dt>
<dd><p>(logical) include additional and remarks data sections
in output. Default: <code>TRUE</code>. Passed on to
<code><a href="https://rdrr.io/pkg/isdparser/man/isd_parse.html" class="external-link">isdparser::isd_parse()</a></code></p></dd>


<dt>parallel</dt>
<dd><p>(logical) do processing in parallel. Default: <code>FALSE</code></p></dd>


<dt>cores</dt>
<dd><p>(integer) number of cores to use: Default: 2. We look in
your option "cl.cores", but use default value if not found.</p></dd>


<dt>progress</dt>
<dd><p>(logical) print progress - ignored if <code>parallel=TRUE</code>.
The default is <code>FALSE</code> because printing progress adds a small bit of
time, so if processing time is important, then keep as <code>FALSE</code></p></dd>


<dt>force</dt>
<dd><p>(logical) force download? Default: <code>FALSE</code>
We use a cached version (an .rds compressed file) if it exists, but
this will override that behavior.</p></dd>


<dt>...</dt>
<dd><p>Curl options passed on to <a href="https://docs.ropensci.org/crul/reference/verb-GET.html" class="external-link">crul::verb-GET</a></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A tibble (data.frame).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>isd</code> saves the full set of weather data for the queried
site locally in the directory specified by the <code>path</code> argument. You
can access the path for the cached file via <code>attr(x, "source")</code></p>
<p>We use <span class="pkg">isdparser</span> internally to parse ISD files. They are
relatively complex to parse, so a separate package takes care of that.</p>
<p>This function first looks for whether the data for your specific
query has already been downloaded previously in the directory given by
the <code>path</code> parameter. If not found, the data is requested form NOAA's
FTP server. The first time a dataset is pulled down we must a) download the
data, b) process the data, and c) save a compressed .rds file to disk. The
next time the same data is requested, we only have to read back in the
.rds file, and is quite fast. The benfit of writing to .rds files is that
data is compressed, taking up less space on your disk, and data is read
back in quickly, without changing any data classes in your data, whereas
we'd have to jump through hoops to do that with reading in csv. The
processing can take quite a long time since the data is quite messy and
takes a bunch of regex to split apart text strings. We hope to speed
this process up in the future. See examples below for different behavior.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>There are now no transformations (scaling, class changes, etc.)
done on the output data. This may change in the future with parameters
to toggle transformations, but none are done for now. See
<code><a href="https://rdrr.io/pkg/isdparser/man/isd_transform.html" class="external-link">isdparser::isd_transform()</a></code> for transformation help.
Comprehensive transformations for all variables are not yet available
but should be available in the next version of this package.</p>
<p>See <a href="rnoaa_caching.html">isd_cache</a> for managing cached files</p>
    </div>
    <div class="section level2">
    <h2 id="errors">Errors<a class="anchor" aria-label="anchor" href="#errors"></a></h2>
    

<p>Note that when you get an error similar to <code>Error: download failed for https://ftp.ncdc.noaa.gov/pub/data/noaa/1955/011490-99999-1955.gz</code>, the
file does not exist on NOAA's servers. If your internet is down,
you'll get a different error.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>https://ftp.ncdc.noaa.gov/pub/data/noaa/
https://www1.ncdc.noaa.gov/pub/data/noaa</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other isd: 
<code><a href="isd_read.html">isd_read</a>()</code>,
<code><a href="isd_stations_search.html">isd_stations_search</a>()</code>,
<code><a href="isd_stations.html">isd_stations</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># Get station table</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">stations</span> <span class="op">&lt;-</span> <span class="fu"><a href="isd_stations.html">isd_stations</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## plot stations</span></span></span>
<span class="r-in"><span><span class="co">### remove incomplete cases, those at 0,0</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">stations</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html" class="external-link">complete.cases</a></span><span class="op">(</span><span class="va">stations</span><span class="op">$</span><span class="va">lat</span>, <span class="va">stations</span><span class="op">$</span><span class="va">lon</span><span class="op">)</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="va">df</span><span class="op">$</span><span class="va">lat</span> <span class="op">!=</span> <span class="fl">0</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="co">### make plot</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://rstudio.github.io/leaflet/" class="external-link">"leaflet"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/leaflet.html" class="external-link">leaflet</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addCircles</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get data</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">isd</span><span class="op">(</span>usaf<span class="op">=</span><span class="st">'011490'</span>, wban<span class="op">=</span><span class="st">'99999'</span>, year<span class="op">=</span><span class="fl">1986</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">isd</span><span class="op">(</span>usaf<span class="op">=</span><span class="st">'011690'</span>, wban<span class="op">=</span><span class="st">'99999'</span>, year<span class="op">=</span><span class="fl">1993</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">isd</span><span class="op">(</span>usaf<span class="op">=</span><span class="st">'109711'</span>, wban<span class="op">=</span><span class="fl">99999</span>, year<span class="op">=</span><span class="fl">1970</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># "additional" and "remarks" data sections included by default</span></span></span>
<span class="r-in"><span><span class="co"># can toggle that parameter to not include those in output, saves time</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res1</span> <span class="op">&lt;-</span> <span class="fu">isd</span><span class="op">(</span>usaf<span class="op">=</span><span class="st">'011490'</span>, wban<span class="op">=</span><span class="st">'99999'</span>, year<span class="op">=</span><span class="fl">1986</span>, force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu">isd</span><span class="op">(</span>usaf<span class="op">=</span><span class="st">'011490'</span>, wban<span class="op">=</span><span class="st">'99999'</span>, year<span class="op">=</span><span class="fl">1986</span>, force <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  additional <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The first time a dataset is requested takes longer</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span> <span class="fu">isd</span><span class="op">(</span>usaf<span class="op">=</span><span class="st">'782680'</span>, wban<span class="op">=</span><span class="st">'99999'</span>, year<span class="op">=</span><span class="fl">2011</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span> <span class="fu">isd</span><span class="op">(</span>usaf<span class="op">=</span><span class="st">'782680'</span>, wban<span class="op">=</span><span class="st">'99999'</span>, year<span class="op">=</span><span class="fl">2011</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot data</span></span></span>
<span class="r-in"><span><span class="co">## get data for multiple stations</span></span></span>
<span class="r-in"><span><span class="va">res1</span> <span class="op">&lt;-</span> <span class="fu">isd</span><span class="op">(</span>usaf<span class="op">=</span><span class="st">'011690'</span>, wban<span class="op">=</span><span class="st">'99999'</span>, year<span class="op">=</span><span class="fl">1993</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu">isd</span><span class="op">(</span>usaf<span class="op">=</span><span class="st">'782680'</span>, wban<span class="op">=</span><span class="st">'99999'</span>, year<span class="op">=</span><span class="fl">2011</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res3</span> <span class="op">&lt;-</span> <span class="fu">isd</span><span class="op">(</span>usaf<span class="op">=</span><span class="st">'008415'</span>, wban<span class="op">=</span><span class="st">'99999'</span>, year<span class="op">=</span><span class="fl">2016</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res4</span> <span class="op">&lt;-</span> <span class="fu">isd</span><span class="op">(</span>usaf<span class="op">=</span><span class="st">'109711'</span>, wban<span class="op">=</span><span class="fl">99999</span>, year<span class="op">=</span><span class="fl">1970</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## combine data</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">res1</span>, <span class="va">res2</span>, <span class="va">res3</span>, <span class="va">res4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># add date time</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://lubridate.tidyverse.org" class="external-link">"lubridate"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">'%s %s'</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">res_all</span><span class="op">$</span><span class="va">date</span><span class="op">)</span>, <span class="va">res_all</span><span class="op">$</span><span class="va">time</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res_all</span><span class="op">$</span><span class="va">date_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd_hms.html" class="external-link">ymd_hm</a></span><span class="op">(</span><span class="va">dd</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## remove 999's</span></span></span>
<span class="r-in"><span><span class="va">res_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">res_all</span>, <span class="va">temperature</span> <span class="op">&lt;</span> <span class="fl">900</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## plot</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">res_all</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">date_time</span>, <span class="va">temperature</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">usaf_station</span>, scales <span class="op">=</span> <span class="st">'free_x'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># print progress</span></span></span>
<span class="r-in"><span><span class="co">## note: if the file is already on your system, you'll see no progress bar</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">isd</span><span class="op">(</span>usaf<span class="op">=</span><span class="st">'011690'</span>, wban<span class="op">=</span><span class="st">'99999'</span>, year<span class="op">=</span><span class="fl">1993</span>, progress<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># parallelize processing</span></span></span>
<span class="r-in"><span><span class="co"># (res &lt;- isd(usaf=172007, wban=99999, year=2016, parallel=TRUE))</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

