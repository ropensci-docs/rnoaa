<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Search for and get NOAA NCDC data"><title>Search for and get NOAA NCDC data — ncdc • rnoaa</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Search for and get NOAA NCDC data — ncdc"><meta property="og:description" content="Search for and get NOAA NCDC data"><meta property="og:image" content="https://docs.ropensci.org/rnoaa/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">rnoaa</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.4.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/rnoaa.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/buoy_vignette.html">working with buoy data</a>
    <a class="dropdown-item" href="../articles/homr_vignette.html">HOMR metadata</a>
    <a class="dropdown-item" href="../articles/ncdc_attributes.html">NOAA NCDC dataset attributes</a>
    <a class="dropdown-item" href="../articles/ncdc_vignette.html">NCDC introduction</a>
    <a class="dropdown-item" href="../articles/ncdc_workflow.html">NCDC workflow</a>
    <a class="dropdown-item" href="../articles/seaice_vignette.html">Sea ice vignette</a>
    <a class="dropdown-item" href="../articles/swdi_vignette.html">SWDI vignette</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/rnoaa/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Search for and get NOAA NCDC data</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/rnoaa/blob/HEAD/R/ncdc.r" class="external-link"><code>R/ncdc.r</code></a></small>
      <div class="d-none name"><code>ncdc.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Search for and get NOAA NCDC data</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ncdc</span><span class="op">(</span></span>
<span>  datasetid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  datatypeid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stationid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  locationid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  startdate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  enddate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sortfield <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sortorder <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  limit <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  offset <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  token <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  includemetadata <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_units <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>datasetid</dt>
<dd><p>(required) Accepts a single valid dataset id. Data
returned will be from the dataset specified, see <code><a href="ncdc_datasets.html">ncdc_datasets</a></code></p></dd>


<dt>datatypeid</dt>
<dd><p>Accepts a valid data type id or a vector or list of data
type ids. (optional)</p></dd>


<dt>stationid</dt>
<dd><p>Accepts a valid station id or a vector or list of station
ids</p></dd>


<dt>locationid</dt>
<dd><p>Accepts a valid location id or a vector or list of
location ids (optional)</p></dd>


<dt>startdate</dt>
<dd><p>(character/date) Accepts valid ISO formated date (yyyy-mm-dd)
or date time (YYYY-MM-DDThh:mm:ss). Data returned will have data after the
specified date. The date range must be less than 1 year. required.</p></dd>


<dt>enddate</dt>
<dd><p>(character/date) Accepts valid ISO formated date (yyyy-mm-dd) or
date time (YYYY-MM-DDThh:mm:ss). Data returned will have data before the
specified date. The date range must be less than 1 year. required.</p></dd>


<dt>sortfield</dt>
<dd><p>The field to sort results by. Supports id, name, mindate,
maxdate, and datacoverage fields (optional)</p></dd>


<dt>sortorder</dt>
<dd><p>Which order to sort by, asc or desc. Defaults to
asc (optional)</p></dd>


<dt>limit</dt>
<dd><p>Defaults to 25, limits the number of results in the response.
Maximum is 1000 (optional)</p></dd>


<dt>offset</dt>
<dd><p>Defaults to 0, used to offset the resultlist (optional)</p></dd>


<dt>token</dt>
<dd><p>This must be a valid token token supplied to you by NCDC's
Climate Data Online access token generator. (required) See
<strong>Authentication</strong> section below for more details.</p></dd>


<dt>includemetadata</dt>
<dd><p>Used to improve response time by preventing the
calculation of result metadata. Default: TRUE. This does not affect the
return object, in that the named part of the output list called "meta"
is still returned, but is NULL. In practice, I haven't seen response
time's improve, but perhaps they will for you.</p></dd>


<dt>add_units</dt>
<dd><p>(logical) whether to add units information or not.
default: <code>FALSE</code>. If <code>TRUE</code>, after getting data from NOAA
we add a new column <code>units</code>. See "Adding units" in Details
for more</p></dd>


<dt>...</dt>
<dd><p>Curl options passed on to <code><a href="https://docs.ropensci.org/crul/reference/HttpClient.html" class="external-link">HttpClient</a></code>
(optional)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An S3 list of length two, a slot of metadata (meta), and a slot
for data (data). The meta slot is a list of metadata elements, and the
data slot is a data.frame, possibly of length zero if no data is found. Note
that values in the data slot don't indicate their units by default, so you
will want to either use the <code>add_units</code> parameter (experimental, see Adding
units) or consult the documentation for each dataset to ensure you're using
the correct units.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Note that NOAA NCDC API calls can take a long time depending on the call.
The NOAA API doesn't perform well with very long timespans, and will
time out and make you angry - beware.</p>
<p>Keep in mind that three parameters, datasetid, startdate, and enddate
are required.</p>
<p>Note that the default limit (no. records returned) is 25. Look at the
metadata in <code>$meta</code> to see how many records were found. If more were
found than 25, you could set the parameter <code>limit</code> to something
higher than 25.</p>
    </div>
    <div class="section level2">
    <h2 id="authentication">Authentication<a class="anchor" aria-label="anchor" href="#authentication"></a></h2>
    

<p>Get an API key (aka, token) at https://www.ncdc.noaa.gov/cdo-web/token
You can pass your token in as an argument or store it one of two places:</p>
<ul><li><p>your .Rprofile file with the entry
<code>options(noaakey = "your-noaa-token")</code></p></li>
<li><p>your .Renviron file with the entry
<code>NOAA_KEY=your-noaa-token</code></p></li>
</ul><p>See <code><a href="https://rdrr.io/r/base/Startup.html" class="external-link">Startup</a></code> for information on how to create/find your
.Rrofile and .Renviron files</p>
    </div>
    <div class="section level2">
    <h2 id="flags">Flags<a class="anchor" aria-label="anchor" href="#flags"></a></h2>
    

<p>The attributes, or "flags", for each row of the output for data may have
a flag with it. Each <code>datasetid</code> has it's own set of flags. The
following are flag columns, and what they stand for. <code>fl_</code> is the
beginning of each flag column name, then one or more characters to describe
the flag, keeping it short to maintain a compact data frame. Some of
these fields are the same across datasetids. See the vignette
<code>vignette("rnoaa_attributes", "rnoaa")</code> for description of possible
values for each flag.</p><ul><li><p>fl_c completeness</p></li>
<li><p>fl_d day</p></li>
<li><p>fl_m measurement</p></li>
<li><p>fl_q quality</p></li>
<li><p>fl_s source</p></li>
<li><p>fl_t time</p></li>
<li><p>fl_cmiss consecutive missing</p></li>
<li><p>fl_miss missing</p></li>
<li><p>fl_u units</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="gsom-gsoy-flags">GSOM/GSOY Flags<a class="anchor" aria-label="anchor" href="#gsom-gsoy-flags"></a></h2>
    

<p>Note that flags are different for GSOM and GSOY datasets. They have their
own set of flags per data class. See
<code>system.file("extdata/gsom.json", package = "rnoaa")</code> for GSOM
and <code>system.file("extdata/gsom.json", package = "rnoaa")</code> for GSOY.
Those are JSON files. The <code><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file()</a></code> call gives you then path,
then read in with <code><a href="https://rdrr.io/pkg/jsonlite/man/fromJSON.html" class="external-link">jsonlite::fromJSON()</a></code> which will give a data.frame
of the metadata. For more detailed info but plain text, open
<code>system.file("extdata/gsom_readme.txt", package = "rnoaa")</code>
and <code>system.file("extdata/gsoy_readme.txt", package = "rnoaa")</code>
in a text editor.</p>
    </div>
    <div class="section level2">
    <h2 id="adding-units">Adding units<a class="anchor" aria-label="anchor" href="#adding-units"></a></h2>
    

<p>The <code>add_units</code> parameter is experimental - USE WITH CAUTION!
If <code>add_units=TRUE</code> we pull data from curated lists of data
used by matching by datasetid and data type.</p>
<p>We've attempted to gather as much information as possible on the many, many
data types across the many different NOAA data sets. However, we may have
got some things wrong, so make sure to double check data you get if you
do add units.</p>
<p>Get in touch if you find some units that are wrong or missing, and
if you are able to help correct information.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other ncdc: 
<code><a href="ncdc_combine.html">ncdc_combine</a>()</code>,
<code><a href="ncdc_datacats.html">ncdc_datacats</a>()</code>,
<code><a href="ncdc_datasets.html">ncdc_datasets</a>()</code>,
<code><a href="ncdc_datatypes.html">ncdc_datatypes</a>()</code>,
<code><a href="ncdc_locs_cats.html">ncdc_locs_cats</a>()</code>,
<code><a href="ncdc_locs.html">ncdc_locs</a>()</code>,
<code><a href="ncdc_plot.html">ncdc_plot</a>()</code>,
<code><a href="ncdc_stations.html">ncdc_stations</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># GHCN-Daily (or GHCND) data, for a specific station</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'GHCND'</span>, stationid<span class="op">=</span><span class="st">'GHCND:USW00014895'</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">'2013-10-01'</span>, enddate <span class="op">=</span> <span class="st">'2013-12-01'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">### also accepts dates as class Date</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'GHCND'</span>, stationid<span class="op">=</span><span class="st">'GHCND:USW00014895'</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">'2013-10-01'</span><span class="op">)</span>, enddate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">'2013-12-01'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># GHCND data, for a location by FIPS code</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'GHCND'</span>, locationid <span class="op">=</span> <span class="st">'FIPS:02'</span>, startdate <span class="op">=</span> <span class="st">'2010-05-01'</span>,</span></span>
<span class="r-in"><span>   enddate <span class="op">=</span> <span class="st">'2010-05-10'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># GHCND data from October 1 2013 to December 1 2013</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'GHCND'</span>, startdate <span class="op">=</span> <span class="st">'2013-10-01'</span>, enddate <span class="op">=</span> <span class="st">'2013-10-05'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># GHCN-Monthly (or GSOM) data from October 1 2013 to December 1 2013</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'GSOM'</span>, startdate <span class="op">=</span> <span class="st">'2013-10-01'</span>, enddate <span class="op">=</span> <span class="st">'2013-12-01'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'GSOM'</span>, startdate <span class="op">=</span> <span class="st">'2013-10-01'</span>, enddate <span class="op">=</span> <span class="st">'2013-12-01'</span>,</span></span>
<span class="r-in"><span>   stationid <span class="op">=</span> <span class="st">"GHCND:AE000041196"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Normals Daily (or NORMAL_DLY) GHCND:USW00014895 dly-tmax-normal data</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'NORMAL_DLY'</span>, stationid<span class="op">=</span><span class="st">'GHCND:USW00014895'</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">'2010-05-01'</span>, enddate <span class="op">=</span> <span class="st">'2010-05-10'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Dataset, and location in Australia</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'GHCND'</span>, locationid<span class="op">=</span><span class="st">'FIPS:AS'</span>, startdate <span class="op">=</span> <span class="st">'2010-05-01'</span>,</span></span>
<span class="r-in"><span>    enddate <span class="op">=</span> <span class="st">'2010-05-31'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Dataset, location and datatype for PRECIP_HLY data</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'PRECIP_HLY'</span>, locationid<span class="op">=</span><span class="st">'ZIP:28801'</span>, datatypeid<span class="op">=</span><span class="st">'HPCP'</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">'2010-05-01'</span>, enddate <span class="op">=</span> <span class="st">'2010-05-10'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># multiple datatypeid's</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'PRECIP_HLY'</span>, datatypeid <span class="op">=</span> <span class="st">'HPCP'</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">'2010-05-01'</span>, enddate <span class="op">=</span> <span class="st">'2010-05-10'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># multiple locationid's</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'PRECIP_HLY'</span>, locationid<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FIPS:30103"</span>, <span class="st">"FIPS:30091"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">'2010-05-01'</span>, enddate <span class="op">=</span> <span class="st">'2010-05-10'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Dataset, location, station and datatype</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'PRECIP_HLY'</span>, locationid<span class="op">=</span><span class="st">'ZIP:28801'</span>,</span></span>
<span class="r-in"><span>   stationid<span class="op">=</span><span class="st">'COOP:310301'</span>, datatypeid<span class="op">=</span><span class="st">'HPCP'</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">'2010-05-01'</span>, enddate <span class="op">=</span> <span class="st">'2010-05-10'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Dataset, location, and datatype for GHCND</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'GHCND'</span>, locationid<span class="op">=</span><span class="st">'FIPS:BR'</span>, datatypeid<span class="op">=</span><span class="st">'PRCP'</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">'2010-05-01'</span>, enddate <span class="op">=</span> <span class="st">'2010-05-10'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Normals Daily GHCND dly-tmax-normal data</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'NORMAL_DLY'</span>, datatypeid<span class="op">=</span><span class="st">'dly-tmax-normal'</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">'2010-05-01'</span>, enddate <span class="op">=</span> <span class="st">'2010-05-10'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Normals Daily GHCND:USW00014895 dly-tmax-normal</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'NORMAL_DLY'</span>, stationid<span class="op">=</span><span class="st">'GHCND:USW00014895'</span>,</span></span>
<span class="r-in"><span>   datatypeid<span class="op">=</span><span class="st">'dly-tmax-normal'</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">'2010-05-01'</span>, enddate <span class="op">=</span> <span class="st">'2010-05-10'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Hourly Precipitation data for ZIP code 28801</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'PRECIP_HLY'</span>, locationid<span class="op">=</span><span class="st">'ZIP:28801'</span>, datatypeid<span class="op">=</span><span class="st">'HPCP'</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">'2010-05-01'</span>, enddate <span class="op">=</span> <span class="st">'2010-05-10'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 15 min Precipitation data for ZIP code 28801</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'PRECIP_15'</span>, datatypeid<span class="op">=</span><span class="st">'QPCP'</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">'2010-05-01'</span>, enddate <span class="op">=</span> <span class="st">'2010-05-02'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Search the NORMAL_HLY dataset</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'NORMAL_HLY'</span>, stationid <span class="op">=</span> <span class="st">'GHCND:USW00003812'</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">'2010-05-01'</span>, enddate <span class="op">=</span> <span class="st">'2010-05-10'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Search the GSOY dataset</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'ANNUAL'</span>, locationid<span class="op">=</span><span class="st">'ZIP:28801'</span>, startdate <span class="op">=</span> <span class="st">'2010-05-01'</span>,</span></span>
<span class="r-in"><span>   enddate <span class="op">=</span> <span class="st">'2010-05-10'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Search the NORMAL_ANN dataset</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'NORMAL_ANN'</span>, datatypeid<span class="op">=</span><span class="st">'ANN-DUTR-NORMAL'</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">'2010-01-01'</span>, enddate <span class="op">=</span> <span class="st">'2010-01-01'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Include metadata or not</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'GHCND'</span>, stationid<span class="op">=</span><span class="st">'GHCND:USW00014895'</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">'2013-10-01'</span>, enddate <span class="op">=</span> <span class="st">'2013-12-01'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'GHCND'</span>, stationid<span class="op">=</span><span class="st">'GHCND:USW00014895'</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">'2013-10-01'</span>, enddate <span class="op">=</span> <span class="st">'2013-12-01'</span>, includemetadata<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Many stationid's</span></span></span>
<span class="r-in"><span><span class="va">stat</span> <span class="op">&lt;-</span> <span class="fu"><a href="ncdc_stations.html">ncdc_stations</a></span><span class="op">(</span>startdate <span class="op">=</span> <span class="st">"2000-01-01"</span>, enddate <span class="op">=</span> <span class="st">"2016-01-01"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## find out what datasets might be available for these stations</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ncdc_datasets.html">ncdc_datasets</a></span><span class="op">(</span>stationid <span class="op">=</span> <span class="va">stat</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">id</span><span class="op">[</span><span class="fl">10</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## get some data</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid <span class="op">=</span> <span class="st">"GSOY"</span>, stationid <span class="op">=</span> <span class="va">stat</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">id</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>   startdate <span class="op">=</span> <span class="st">"2010-01-01"</span>, enddate <span class="op">=</span> <span class="st">"2011-01-01"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># NEXRAD2 data</span></span></span>
<span class="r-in"><span><span class="co">## doesn't work yet</span></span></span>
<span class="r-in"><span><span class="fu">ncdc</span><span class="op">(</span>datasetid<span class="op">=</span><span class="st">'NEXRAD2'</span>, startdate <span class="op">=</span> <span class="st">'2013-10-01'</span>, enddate <span class="op">=</span> <span class="st">'2013-12-01'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

